---
sidebar_position: 6
---

# API пользователей

API пользователей предоставляет доступ к управлению пользователями системы. Разные эндпоинты могут требовать различные уровни доступа.

## Получение списка пользователей

Получение списка всех пользователей системы.

```
GET /users
```

### Пример ответа

```json
[
  {
    "id": 1,
    "username": "admin",
    "email": "admin@example.com",
    "roles": ["ROLE_ADMIN", "ROLE_USER"]
  },
  {
    "id": 2,
    "username": "user1",
    "email": "user1@example.com",
    "roles": ["ROLE_USER"]
  }
]
```

## Получение пользователя по ID

Получение информации о конкретном пользователе по его ID.

```
GET /users/{id}
```

### Параметры пути

| Параметр | Описание |
|----------|----------|
| id | ID пользователя |

### Пример ответа

```json
{
  "id": 1,
  "username": "admin",
  "email": "admin@example.com",
  "roles": ["ROLE_ADMIN", "ROLE_USER"]
}
```

## Получение пользователя по имени

Получение информации о конкретном пользователе по его имени пользователя.

```
GET /users/by-username/{username}
```

### Параметры пути

| Параметр | Описание |
|----------|----------|
| username | Имя пользователя |

### Пример ответа

```json
{
  "id": 1,
  "username": "admin",
  "email": "admin@example.com",
  "roles": ["ROLE_ADMIN", "ROLE_USER"]
}
```

## Создание пользователя

Создание нового пользователя в системе.

```
POST /users
```

### Параметры запроса

| Поле | Тип | Описание | Обязательное |
|------|-----|----------|-------------|
| username | String | Имя пользователя | Да |
| password | String | Пароль | Да |
| email | String | Электронная почта | Да |
| roles | Array | Массив ролей пользователя | Нет |

### Пример запроса

```json
{
  "username": "newuser",
  "password": "password123",
  "email": "newuser@example.com",
  "roles": ["ROLE_USER"]
}
```

### Пример ответа

```json
{
  "id": 3,
  "username": "newuser",
  "email": "newuser@example.com",
  "roles": ["ROLE_USER"]
}
```

## Обновление пользователя

Обновление информации о существующем пользователе.

```
PUT /users/{id}
```

### Параметры пути

| Параметр | Описание |
|----------|----------|
| id | ID пользователя |

### Параметры запроса

| Поле | Тип | Описание | Обязательное |
|------|-----|----------|-------------|
| username | String | Имя пользователя | Нет |
| password | String | Пароль | Нет |
| email | String | Электронная почта | Нет |
| roles | Array | Массив ролей пользователя | Нет |

### Пример запроса

```json
{
  "email": "updated.email@example.com",
  "roles": ["ROLE_USER", "ROLE_MODERATOR"]
}
```

## Удаление пользователя

Удаление пользователя из системы.

```
DELETE /users/{id}
```

### Параметры пути

| Параметр | Описание |
|----------|----------|
| id | ID пользователя |

### Коды ответов

| Код | Описание |
|-----|----------|
| 204 | Пользователь успешно удален |
| 404 | Пользователь не найден |

## Профиль текущего пользователя

Получение информации о текущем аутентифицированном пользователе.

```
GET /users/profile
```

### Пример ответа

```json
{
  "id": 1,
  "username": "admin",
  "email": "admin@example.com",
  "roles": ["ROLE_ADMIN", "ROLE_USER"]
}
```

### Коды ответов для всех запросов

| Код | Описание |
|-----|----------|
| 200 | Успешное выполнение запроса |
| 201 | Ресурс успешно создан (для POST запросов) |
| 400 | Некорректные входные данные |
| 401 | Не аутентифицирован |
| 403 | Нет прав для выполнения операции |
| 404 | Ресурс не найден |
| 500 | Ошибка сервера |
